<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>图片上传</title>
    <link href="../../resource/layui/css/layui.css" rel="stylesheet" />
    <script src="../../resource/layui/layui.js"></script>
</head>
<body>
    <div class="layui-upload">
        <button type="button" class="layui-btn layui-btn-normal" id="test">选择文件</button>
        <button type="button" class="layui-btn" id="uploadBtn">开始上传</button>
    </div>

    <script>
        layui.use('upload', function () {
            var upload = layui.upload;

            //执行实例
            var uploadInst = upload.render({
                elem: '#test' //绑定元素
                , url: '/ashx/HandleUploadFile.ashx' //上传接口
                , accept: 'images'
                , acceptMime: 'image/*'
                , auto: false    //是否是选定后自动上传
                , bindAction: '#uploadBtn'
                , field:'picture'   //文件字段名,就是 name
                , done: function (res) {
                    //上传完毕回调
                }
                , error: function () {
                    //请求异常回调
                }
            });
        });
    </script>
</body>
</html>